theme_minimal(base_size=20)
cor.test(error_euclid$mean_err, error_euclid$mean_dist_train.x)
ggplot(error_euclid, aes(mean_dist_test.x, mean_err))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
cor.test(error_euclid$mean_err, error_euclid$mean_dist_test.x)
ggplot(error_path, aes(mean_dist_train.x, mean_error))+
geom_point(size = 2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
cor.test(error_path$mean_error, error_path$mean_dist_train.x)
ggplot(error_path, aes(mean_dist_test.x, mean_error))+
geom_point(size = 2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
cor.test(error_path$mean_error, error_path$mean_dist_test.x)
ggplot(error_euclid, aes(mean_dist_diff, mean_err))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_diff.x, mean_err))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
View(error_euclid)
ggplot(error_euclid, aes(mean_diff.x, mean_err))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
ggplot(error_path, aes(mean_diff.x, mean_error))+
geom_point(size = 2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
nav_data_sum <- read.table("distance_travelled_train_test.csv", header=T, sep=",")
nav_data_sum$dist_diff <- nav_data_sum$mean_distance_test - nav_data_sum$mean_distance_train
nav_data_sum <- filter(nav_data_sum, sub != 12)
nav_data_per_sub <- nav_data_sum %>%
group_by(sub, route_type) %>%
summarise(mean_diff = mean(dist_diff), mean_dist_train = mean(mean_distance_train), mean_dist_test = mean(mean_distance_test))
View(nav_data_per_sub)
error_euclid <- read.table("error_euclidean_per_sub.csv", header=T, sep=",")
error_path <- read.table("error_path_per_sub.csv", header=T, sep=",")
nav_time <- read.table("time_navigating.csv", header=T, sep=",")
error_euclid <- merge(nav_data_per_sub, error_euclid, by=c("sub"))
View(error_euclid)
error_path <- merge(nav_data_per_sub, error_path, by=c("sub"))
error_euclid <- merge(error_euclid, nav_time, by=c('sub'))
error_path <- merge(error_path, nav_time, by=c("sub"))
View(error_euclid)
View(error_euclid)
ggplot(error_euclid, aes(mean_dist_test, mean_err))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_test, mean_err, group=route_type, color=route_type))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_test, mean_err, group=route_type, color=route_type))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2, se=F) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_test, mean_err, group=route_type, color=route_type))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2, alpha=.05) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_test, mean_err, group=route_type, color=route_type))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2, alpha=.1) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_test, mean_err, group=route_type, color=route_type))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2, alpha=.25) +
theme_minimal(base_size=20)
ggplot(error_path, aes(mean_dist_test, mean_error, group=route_type, color=route_type))+
geom_point(size = 2) +
geom_smooth(method='lm', color='black', size=2) +
theme_minimal(base_size=20)
ggplot(error_path, aes(mean_dist_test, mean_error, group=route_type, color=route_type))+
geom_point(size = 2) +
geom_smooth(method='lm', color='black', size=2, alpha=.25) +
theme_minimal(base_size=20)
ggplot(error_euclid, aes(mean_dist_train, mean_err, group=route_type, color=route_type))+
geom_point(size=2) +
geom_smooth(method='lm', color='black', size=2, alpha=.25) +
theme_minimal(base_size=20)
ggplot(error_path, aes(mean_dist_train, mean_error, group=route_type, color=route_type))+
geom_point(size = 2) +
geom_smooth(method='lm', color='black', size=2, alpha=.25) +
theme_minimal(base_size=20)
cd('C:/Users')
setwd('C:/Users/ivakr/Documents/GitHub/30daymapchallenge/')
knitr::opts_chunk$set(echo = TRUE)
library(sf)
library(elevatr)
library(raster)
library(dplyr)
library(maps)
library(mapdata)
wa <- map_data('state') %>%
filter(region == 'washington')
olympic <- data.frame(x = -124.05823278202054, y = 48.00413778235446) %>%
st_as_sf(coords = c('x','y'), crs = 4326)
elev <- get_elev_raster(olympic, z = 8)
elev_matrix <- as.data.frame(rasterToPoints(elev))
colnames(elev_matrix) <- c('x','y','z')
ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_gradient(low = 'black',high='white',alpha=.6) +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_viridis(option = 'viridis',alpha=.4) +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.5) +
scale_fill_gradient(low = 'black',high='white') +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
library(viridis)
ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.5) +
scale_fill_gradient(low = 'black',high='white') +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.5) +
scale_fill_gradient(low = 'black',high='white') +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.3) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
elev_highest <- filter(elev_matrix, z > 2000)
elev_highest <- filter(elev_matrix, z > 1900)
ggplot() +
geom_raster(data = elev_highest,
aes(x = x, y = y, fill = 'black'),alpha=.5) +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.4) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
ggplot() +
geom_point(data = elev_highest,
aes(x = x, y = y, fill = 'black'),alpha=.5) +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.4) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
View(elev_highest)
elev_highest$z <-
ggplot() +
geom_point(data = elev_highest,
aes(x = x, y = y),fill='black', alpha=.5) +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.4) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
elev_highest$z <-
ggplot() +
geom_point(data = elev_highest,
aes(x = x, y = y), color='black', alpha=.5) +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.4) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
elev_highest <- filter(elev_matrix, z > 1900)
ggplot() +
geom_point(data = elev_highest,
aes(x = x, y = y), color='black', alpha=.5) +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z),alpha=.4) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
a <- ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
b <- ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_gradient(low = 'black', high='white') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
a+b
b <- ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_gradient(low = 'black', high='white') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
a+b
b <-
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_gradient(low = 'black', high='white') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
library(rayshader)
elevplot <- ggplot() +
geom_raster(data = elev_matrix,
aes(x = x, y = y, fill = z)) +
scale_fill_viridis(option = 'viridis') +
scale_alpha(range =  c(0.15, 0.89), guide = "none") +
#coord_quickmap() +
geom_polygon(data = wa, aes(x = long, y = lat, group=group), fill = NA, color = 'lightgrey', size=.3) +
coord_sf(xlim = c(-125, -122), ylim = c(47, 49), crs = 4326) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank(), legend.position="",
legend.key.height = unit(.15, 'cm'),
legend.key.width = unit(.4, 'cm'),
legend.title=element_text(size=8),
legend.text=element_text(size=8),
plot.background=element_rect(fill = 'white', color=NA),
panel.background = element_rect(fill = 'white', color=NA))
library(rayshader)
plot_gg(elev_plot,multicore = TRUE,width=5,height=5,scale=250,windowsize=c(1400,866),
zoom = 0.55, phi = 30)
plot_gg(elevplot,multicore = TRUE,width=5,height=5,scale=250,windowsize=c(1400,866),
zoom = 0.55, phi = 30)
plot_gg(elevplot,zscale=10,multicore = TRUE,width=5,height=5,scale=250,windowsize=c(1400,866),
zoom = 0.55, phi = -30)
plot_gg(elevplot,zscale=10,multicore = TRUE,width=5,height=5,windowsize=c(1400,866),
zoom = 0.55, phi = -30)
plot_gg(elevplot,multicore = TRUE,width=5,height=5,scale=150,windowsize=c(1400,866),
zoom = 0.55, phi = 0)
install.packages("ncdf4")
library(ncdf4) # package for netcdf manipulation
library(ncdf4) # package for netcdf manipulation
library(raster) # package for raster manipulation
nc_data <- nc_open("A20212442021273.L3m_MO_CHL_chlor_a_4km.nc")
nc_data <- nc_open("data/A20212442021273.L3m_MO_CHL_chlor_a_4km.nc")
setwd(./scripts)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
nc_data <- nc_open("data/A20212442021273.L3m_MO_CHL_chlor_a_4km.nc")
lon <- ncvar_get(nc_data, "lon")
lat <- ncvar_get(nc_data, "lat", verbose = F)
lon <- ncvar_get(nc_data, "chlor_a")
lon <- ncvar_get(nc_data, "lon")
chlor <- ncvar_get(nc_data, "chlor_a")
View(chlor)
lon <- ncvar_get(nc_data, "lon")
lat <- ncvar_get(nc_data, "lat", verbose = F)
chlor_matrix <- as.data.frame(rasterToPoints(nc_data))
dimvar <- ncvar_get(nc_data, "dimvarid", verbose = F)
dimvar <- ncvar_get(nc_data, "var", verbose = F)
dimvar <- ncvar_get(nc_data, "chlor", verbose = T)
lon <- ncvar_get(nc_data, "lon")
lat <- ncvar_get(nc_data, "lat", verbose = F)
dimvar <- ncvar_get(nc_data, "chlor_a", verbose = T)
View(dimvar)
install.packages(rgdal)
install.packages('rgdal')
library(rgdal)
dimvar <- ncvar_get(nc_data, "chlor_a", verbose = T)
View(dimvar)
elevation <- raster("RenderData_chlor.tif")
elevation <- raster("data/RenderData_chlor.tif")
elevation <- raster("data/RenderData_chlor.tiff")
chlor_raster <- raster("data/RenderData_chlor.tiff")
chlor_matrix <- as.data.frame(rasterToPoints(chlor_raster))
View(chlor_matrix)
ggplot() +
geom_raster(data = chlor_matrix,
aes(x = x, y = y, fill = RenderData_chlor)) +
scale_fill_viridis(option = 'viridis')
View(chlor_matrix)
chlor_matrix <- as.data.frame(rasterToPoints(chlor_raster)) %>%
replace_with_na(replace = list(RenderData_chlor = c(255)))
chlor_matrix[chlor_matrix == RenderData_chlor$255] <- NA
chlor_matrix[chlor_matrix == RenderData_chlor$255] <- NA
